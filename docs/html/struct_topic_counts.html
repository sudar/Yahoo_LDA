<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Y!LDA: TopicCounts Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TopicCounts Struct Reference</h1><!-- doxytag: class="TopicCounts" -->
<p><code>#include &lt;<a class="el" href="_topic_counts_8h_source.html">TopicCounts.h</a>&gt;</code></p>

<p><a href="struct_topic_counts-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a8610e13cc9d52222d4c34c1914f70640">TopicCounts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a58673c799b8bd91f357d5492df78e9cf">TopicCounts</a> (int <a class="el" href="struct_topic_counts.html#abbecea34e46a52c0bfec37872960e18d">length</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a045ad6ded5a1b6bcf608c2aa65370622">TopicCounts</a> (cnt_topic_t *it, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a999dc787d880d568be9f5c8475fea998">TopicCounts</a> (const std::string &amp;counts)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#aa2c279222d93b6e5329b16744fdb2218">init</a> (cnt_topic_t *it, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a1b625b3b8e01723b1cd79ac436b50b3e">init</a> (const std::string &amp;counts)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#aa57464ff14acfe74e7d402bc9b3af6aa">~TopicCounts</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a1c7c655d5af23b70a29e236d2814d6e0">assign</a> (int <a class="el" href="struct_topic_counts.html#abbecea34e46a52c0bfec37872960e18d">length</a>, bool setLen=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#ac51ca3ff002097319e5e7562cf98f31e">setLength</a> (int length_)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#ae4bd9fecceabe2e87ebd54b81442055f">findOldnNew</a> (topic_t oldTopic, topic_t newTopic, topic_t **oldTop, topic_t **newTop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#aaab5b0bf2f9051671d4a53ac0b60e1a5">get_frequency</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cnt_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a1289a13a2d59db891d9775acab93cc1e">get_counts</a> (topic_t topic)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a2db273b308ba9485c0cb87600c141936">convertTo</a> (<a class="el" href="types_8h.html#a4fed6ff282eca8f2c6ebdb4bc2e99e8b">mapped_vec</a> &amp;map, int mult=1) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a874b4422e106155a6a4c09eddf6ff459">convertTo</a> (<a class="el" href="classsimple__map.html">simple_map</a> &amp;map, int mult=1) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a9550ee80a5fbe0d708b4f760f897d2d5">convertTo</a> (std::string &amp;counts) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a966dfd85c2c14918bed470515e88aa3b">convertTo_d</a> (<a class="el" href="types_8h.html#a4fed6ff282eca8f2c6ebdb4bc2e99e8b">mapped_vec</a> &amp;map, double mult) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#ad4751b60bf3af5a7c532ca547878a3ea">findAndIncrement</a> (topic_t topic)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#afd277219286187aaddd4acebc8a944bc">findAndDecrement</a> (topic_t topic)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#aa00483314f56e5c97f7feec15cf6dde2">compact</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#ad23a451d973f5a1a9ea3be5f24191568">addNewTop</a> (topic_t topic, cnt_t count=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a464225e562d192981988a8c2d412bd31">addNewTopAftChk</a> (topic_t topic, cnt_t count=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a2aa45ac9efa134fe2977385110854d43">upd_count</a> (<a class="el" href="types_8h.html#a4fed6ff282eca8f2c6ebdb4bc2e99e8b">mapped_vec</a> &amp;delta, tbb::atomic&lt; topic_t &gt; *t=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#af65a213b5195d6c2ba547e28e3727b91">operator+=</a> (<a class="el" href="struct_topic_counts.html">TopicCounts</a> &amp;inp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a1317117ae2bff6188196ffec46f23dc5">operator-=</a> (<a class="el" href="struct_topic_counts.html">TopicCounts</a> &amp;inp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a623d6cd7178f596cffee5047ccb95d49">removeOldTop</a> (topic_t ind, cnt_topic_t &amp;ct)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a4b92d60f9c8f202924803d903ebc3c34">replace</a> (<a class="el" href="struct_topic_counts.html">TopicCounts</a> &amp;tc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a0c6d1cf4216657d55566b56923c71122">decrement</a> (topic_t ind, topic_t **newTop)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a326672023fd147088bd27a4a5f33c0c1">increment</a> (topic_t ind)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#ae8b91f5e30f6cc071f31db43f39e66e9">print</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#aafbb66681d6b34ac5c272a2d38f4ddcb">TopicCounts</a> (<a class="el" href="types_8h.html#a4fed6ff282eca8f2c6ebdb4bc2e99e8b">mapped_vec</a> &amp;map)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a6ce31e2d544126f259f5f07117552284">equal</a> (const <a class="el" href="struct_topic_counts.html">TopicCounts</a> &amp;expected)</td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cnt_topic_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a50185bb9cf12838252564d28c00e59a7">items</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">topic_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#abbecea34e46a52c0bfec37872960e18d">length</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">topic_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#af564d3c9b1e333865e07e0e9bcad497f">origLength</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; cnt_topic_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a8f8362bcc278b7a7bdccec005f21c4a0">vec_items</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a13c5a4d017260fe85c564319f0a4fe90">frequency</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_topic_counts.html#a4bd537cce5cd7adadc45e3355bf5a943">QUIT</a></td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8610e13cc9d52222d4c34c1914f70640"></a><!-- doxytag: member="TopicCounts::TopicCounts" ref="a8610e13cc9d52222d4c34c1914f70640" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TopicCounts::TopicCounts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a58673c799b8bd91f357d5492df78e9cf"></a><!-- doxytag: member="TopicCounts::TopicCounts" ref="a58673c799b8bd91f357d5492df78e9cf" args="(int length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TopicCounts::TopicCounts </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Typical constructor usage. Constructs a <a class="el" href="struct_topic_counts.html">TopicCounts</a> structure which can hold length elements. However, this is a dynamic structure and length can change in the process of usage by the use of setter methods This also allocates sufficient storage to store length elements </p>

</div>
</div>
<a class="anchor" id="a045ad6ded5a1b6bcf608c2aa65370622"></a><!-- doxytag: member="TopicCounts::TopicCounts" ref="a045ad6ded5a1b6bcf608c2aa65370622" args="(cnt_topic_t *it, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TopicCounts::TopicCounts </td>
          <td>(</td>
          <td class="paramtype">cnt_topic_t *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs <a class="el" href="struct_topic_counts.html">TopicCounts</a> from it &amp; len </p>

</div>
</div>
<a class="anchor" id="a999dc787d880d568be9f5c8475fea998"></a><!-- doxytag: member="TopicCounts::TopicCounts" ref="a999dc787d880d568be9f5c8475fea998" args="(const std::string &amp;counts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TopicCounts::TopicCounts </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>counts</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa57464ff14acfe74e7d402bc9b3af6aa"></a><!-- doxytag: member="TopicCounts::~TopicCounts" ref="aa57464ff14acfe74e7d402bc9b3af6aa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TopicCounts::~TopicCounts </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aafbb66681d6b34ac5c272a2d38f4ddcb"></a><!-- doxytag: member="TopicCounts::TopicCounts" ref="aafbb66681d6b34ac5c272a2d38f4ddcb" args="(mapped_vec &amp;map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TopicCounts::TopicCounts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4fed6ff282eca8f2c6ebdb4bc2e99e8b">mapped_vec</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>map</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the structure from the map This is only for testing purposes and should be used with caution. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad23a451d973f5a1a9ea3be5f24191568"></a><!-- doxytag: member="TopicCounts::addNewTop" ref="ad23a451d973f5a1a9ea3be5f24191568" args="(topic_t topic, cnt_t count=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::addNewTop </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cnt_t&nbsp;</td>
          <td class="paramname"> <em>count</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a new topic to the array making sure to resize it if required. Doesn't check for uniqueness Also assumes that memory allocation has happened </p>

</div>
</div>
<a class="anchor" id="a464225e562d192981988a8c2d412bd31"></a><!-- doxytag: member="TopicCounts::addNewTopAftChk" ref="a464225e562d192981988a8c2d412bd31" args="(topic_t topic, cnt_t count=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::addNewTopAftChk </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cnt_t&nbsp;</td>
          <td class="paramname"> <em>count</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Same as above but also checks if memory has been allocated. If not, tries to allocate memory. The check for allocated memory is not very robust as all the members are public and malicious users can set things such that it does not work. </p>

</div>
</div>
<a class="anchor" id="a1c7c655d5af23b70a29e236d2814d6e0"></a><!-- doxytag: member="TopicCounts::assign" ref="a1c7c655d5af23b70a29e236d2814d6e0" args="(int length, bool setLen=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::assign </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>setLen</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function that allocates memory. origLength memory must be allocated since length can grow upto origLenth. It supports finer granularity access. You can disable the block aligment of lenth which is done by default using setLen if you have already made sure of this </p>

</div>
</div>
<a class="anchor" id="aa00483314f56e5c97f7feec15cf6dde2"></a><!-- doxytag: member="TopicCounts::compact" ref="aa00483314f56e5c97f7feec15cf6dde2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::compact </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if there is memory wastage and tries to reduce it by compacting memory. It does compaction only when there are more than INIT_TC_SIZE + SUBSEQ_ALLOCS entries and there is at least INIT_TC_ZISE memory being wasted. In such a case, it compact SUBSEQ_ALLOCS of memory. Usually SUBSEQ_ALLOCS should be set to half of INIT_TC_SIZE</p>
<p>***** All pointers to items are invalid once this runs successfully. Use extra caution when you use this or some method which uses this ********* </p>

</div>
</div>
<a class="anchor" id="a9550ee80a5fbe0d708b4f760f897d2d5"></a><!-- doxytag: member="TopicCounts::convertTo" ref="a9550ee80a5fbe0d708b4f760f897d2d5" args="(std::string &amp;counts) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::convertTo </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>counts</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a874b4422e106155a6a4c09eddf6ff459"></a><!-- doxytag: member="TopicCounts::convertTo" ref="a874b4422e106155a6a4c09eddf6ff459" args="(simple_map &amp;map, int mult=1) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::convertTo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsimple__map.html">simple_map</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mult</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2db273b308ba9485c0cb87600c141936"></a><!-- doxytag: member="TopicCounts::convertTo" ref="a2db273b308ba9485c0cb87600c141936" args="(mapped_vec &amp;map, int mult=1) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TopicCounts::convertTo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4fed6ff282eca8f2c6ebdb4bc2e99e8b">mapped_vec</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mult</em> = <code>1</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores a map representation of this vector into map. You can specify an optional multiplier to get a representation of (-1 * TC) or (2 * TC) where TC is the current structure. This multiplies count of each topic by the multiplier </p>

</div>
</div>
<a class="anchor" id="a966dfd85c2c14918bed470515e88aa3b"></a><!-- doxytag: member="TopicCounts::convertTo_d" ref="a966dfd85c2c14918bed470515e88aa3b" args="(mapped_vec &amp;map, double mult) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TopicCounts::convertTo_d </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4fed6ff282eca8f2c6ebdb4bc2e99e8b">mapped_vec</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>mult</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0c6d1cf4216657d55566b56923c71122"></a><!-- doxytag: member="TopicCounts::decrement" ref="a0c6d1cf4216657d55566b56923c71122" args="(topic_t ind, topic_t **newTop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::decrement </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">topic_t **&nbsp;</td>
          <td class="paramname"> <em>newTop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to decrement the count of the topic found at index ind by 1. Also takes care of repointing newTop if its position changes. </p>

</div>
</div>
<a class="anchor" id="a6ce31e2d544126f259f5f07117552284"></a><!-- doxytag: member="TopicCounts::equal" ref="a6ce31e2d544126f259f5f07117552284" args="(const TopicCounts &amp;expected)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TopicCounts::equal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_topic_counts.html">TopicCounts</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>expected</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afd277219286187aaddd4acebc8a944bc"></a><!-- doxytag: member="TopicCounts::findAndDecrement" ref="afd277219286187aaddd4acebc8a944bc" args="(topic_t topic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TopicCounts::findAndDecrement </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>topic</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad4751b60bf3af5a7c532ca547878a3ea"></a><!-- doxytag: member="TopicCounts::findAndIncrement" ref="ad4751b60bf3af5a7c532ca547878a3ea" args="(topic_t topic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TopicCounts::findAndIncrement </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>topic</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If you want to increment the count of a topic by 1 without knowing the index, you can use this method. But usually increment and decrement are joint operations and you would not want to iterate through the entire array twice. Its advantageous to use the findOldnNew function and increment &amp; decrement methods directly as in TypeTopicCounts::upd_count(word,oldTop,newTop) </p>

</div>
</div>
<a class="anchor" id="ae4bd9fecceabe2e87ebd54b81442055f"></a><!-- doxytag: member="TopicCounts::findOldnNew" ref="ae4bd9fecceabe2e87ebd54b81442055f" args="(topic_t oldTopic, topic_t newTopic, topic_t **oldTop, topic_t **newTop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::findOldnNew </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>oldTopic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>newTopic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">topic_t **&nbsp;</td>
          <td class="paramname"> <em>oldTop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">topic_t **&nbsp;</td>
          <td class="paramname"> <em>newTop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Typical ways of creating <a class="el" href="struct_topic_counts.html">TopicCounts</a>: 1.TopicCounts(length) 2.TopicCounts();assign(length);init(items,length) 3.TopicCounts();assign(-1,false);init(items,length) Find oldTopic &amp; newTopic positions in items and retun them in oldTop &amp; newTop. Note that cnt_topic_t is a packed structure. So accessing either the topic or count individually will modify your pointer arithmetic by two </p>

</div>
</div>
<a class="anchor" id="a1289a13a2d59db891d9775acab93cc1e"></a><!-- doxytag: member="TopicCounts::get_counts" ref="a1289a13a2d59db891d9775acab93cc1e" args="(topic_t topic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cnt_t TopicCounts::get_counts </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>topic</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aaab5b0bf2f9051671d4a53ac0b60e1a5"></a><!-- doxytag: member="TopicCounts::get_frequency" ref="aaab5b0bf2f9051671d4a53ac0b60e1a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TopicCounts::get_frequency </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a326672023fd147088bd27a4a5f33c0c1"></a><!-- doxytag: member="TopicCounts::increment" ref="a326672023fd147088bd27a4a5f33c0c1" args="(topic_t ind)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::increment </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>ind</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to increment by 1 the count of an existing topic found at index ind. This assumes that the ind is in range and hence that the topic exists </p>

</div>
</div>
<a class="anchor" id="a1b625b3b8e01723b1cd79ac436b50b3e"></a><!-- doxytag: member="TopicCounts::init" ref="a1b625b3b8e01723b1cd79ac436b50b3e" args="(const std::string &amp;counts)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::init </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>counts</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa2c279222d93b6e5329b16744fdb2218"></a><!-- doxytag: member="TopicCounts::init" ref="aa2c279222d93b6e5329b16744fdb2218" args="(cnt_topic_t *it, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::init </td>
          <td>(</td>
          <td class="paramtype">cnt_topic_t *&nbsp;</td>
          <td class="paramname"> <em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This assumes that sufficient memory has already been allocated to hold len elems and just copies them to items </p>

</div>
</div>
<a class="anchor" id="af65a213b5195d6c2ba547e28e3727b91"></a><!-- doxytag: member="TopicCounts::operator+=" ref="af65a213b5195d6c2ba547e28e3727b91" args="(TopicCounts &amp;inp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::operator+= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_topic_counts.html">TopicCounts</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience operators for syntactic sugar </p>

</div>
</div>
<a class="anchor" id="a1317117ae2bff6188196ffec46f23dc5"></a><!-- doxytag: member="TopicCounts::operator&#45;=" ref="a1317117ae2bff6188196ffec46f23dc5" args="(TopicCounts &amp;inp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::operator-= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_topic_counts.html">TopicCounts</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>inp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience operators for syntactic sugar </p>

</div>
</div>
<a class="anchor" id="ae8b91f5e30f6cc071f31db43f39e66e9"></a><!-- doxytag: member="TopicCounts::print" ref="ae8b91f5e30f6cc071f31db43f39e66e9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string TopicCounts::print </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a623d6cd7178f596cffee5047ccb95d49"></a><!-- doxytag: member="TopicCounts::removeOldTop" ref="a623d6cd7178f596cffee5047ccb95d49" args="(topic_t ind, cnt_topic_t &amp;ct)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::removeOldTop </td>
          <td>(</td>
          <td class="paramtype">topic_t&nbsp;</td>
          <td class="paramname"> <em>ind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cnt_topic_t &amp;&nbsp;</td>
          <td class="paramname"> <em>ct</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Should be called when you know that ct.choose.cnt==1 or ct.choose.cnt-1==0. This will logically remove this entry from the array also taking care of repointing the newTop to the correct position once ct is removed. After length is decremented it is checked if compaction is needed and if so, SUBSEQ_ALLOCS of memory is compacted. The removal is simply a swap with the last element since the current count is 1 and the items array is always sorted in descending order and only has non-zero entries. Also all pointers to items are going to be invalid if compaction runs successfully.</p>
<p>****** Be extra careful while using this ******* </p>

</div>
</div>
<a class="anchor" id="a4b92d60f9c8f202924803d903ebc3c34"></a><!-- doxytag: member="TopicCounts::replace" ref="a4b92d60f9c8f202924803d903ebc3c34" args="(TopicCounts &amp;tc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::replace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_topic_counts.html">TopicCounts</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>tc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Replace the current counts with thos in tc </p>

</div>
</div>
<a class="anchor" id="ac51ca3ff002097319e5e7562cf98f31e"></a><!-- doxytag: member="TopicCounts::setLength" ref="ac51ca3ff002097319e5e7562cf98f31e" args="(int length_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::setLength </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length_</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Block aligns the length and sets the origLength parameter to suit that. origLength is always INIT_TC + i*SUBSEQ_ALLOCS where i=0,1,2.... </p>

</div>
</div>
<a class="anchor" id="a2aa45ac9efa134fe2977385110854d43"></a><!-- doxytag: member="TopicCounts::upd_count" ref="a2aa45ac9efa134fe2977385110854d43" args="(mapped_vec &amp;delta, tbb::atomic&lt; topic_t &gt; *t=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TopicCounts::upd_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a4fed6ff282eca8f2c6ebdb4bc2e99e8b">mapped_vec</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>delta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tbb::atomic&lt; topic_t &gt; *&nbsp;</td>
          <td class="paramname"> <em>t</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update items with the delta counts passed as a map Also update n(t) simultaneously using t. Note that delta is modified because elements are removed from it. If you don't want this, create a copy and send it along. The strategy is to update items with the counts in delta in place and sort it finally. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a13c5a4d017260fe85c564319f0a4fe90"></a><!-- doxytag: member="TopicCounts::frequency" ref="a13c5a4d017260fe85c564319f0a4fe90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="struct_topic_counts.html#a13c5a4d017260fe85c564319f0a4fe90">TopicCounts::frequency</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a50185bb9cf12838252564d28c00e59a7"></a><!-- doxytag: member="TopicCounts::items" ref="a50185bb9cf12838252564d28c00e59a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cnt_topic_t* <a class="el" href="struct_topic_counts.html#a50185bb9cf12838252564d28c00e59a7">TopicCounts::items</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abbecea34e46a52c0bfec37872960e18d"></a><!-- doxytag: member="TopicCounts::length" ref="abbecea34e46a52c0bfec37872960e18d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">topic_t <a class="el" href="struct_topic_counts.html#abbecea34e46a52c0bfec37872960e18d">TopicCounts::length</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af564d3c9b1e333865e07e0e9bcad497f"></a><!-- doxytag: member="TopicCounts::origLength" ref="af564d3c9b1e333865e07e0e9bcad497f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">topic_t <a class="el" href="struct_topic_counts.html#af564d3c9b1e333865e07e0e9bcad497f">TopicCounts::origLength</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a4bd537cce5cd7adadc45e3355bf5a943"></a><!-- doxytag: member="TopicCounts::QUIT" ref="a4bd537cce5cd7adadc45e3355bf5a943" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="struct_topic_counts.html#a4bd537cce5cd7adadc45e3355bf5a943">TopicCounts::QUIT</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8f8362bcc278b7a7bdccec005f21c4a0"></a><!-- doxytag: member="TopicCounts::vec_items" ref="a8f8362bcc278b7a7bdccec005f21c4a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;cnt_topic_t&gt; <a class="el" href="struct_topic_counts.html#a8f8362bcc278b7a7bdccec005f21c4a0">TopicCounts::vec_items</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/Unigram_Model/TopicLearner/<a class="el" href="_topic_counts_8h_source.html">TopicCounts.h</a></li>
<li>src/Unigram_Model/TopicLearner/<a class="el" href="_topic_counts_8cpp.html">TopicCounts.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Jun 13 16:49:28 2011 for Y!LDA by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
